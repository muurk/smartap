# =============================================================================
# Smartap Raspberry Pi GPIO JTAG Interface
# =============================================================================
# SPDX-License-Identifier: GPL-2.0-or-later
#
# OpenOCD sysfsgpio configuration for connecting a Raspberry Pi directly to
# the Smartap device's JTAG interface. Uses the Pi's GPIO pins for bit-banged
# JTAG without requiring a dedicated JTAG adapter.
#
# Pin mapping (discovered via JTAGenum):
#   GPIO 5  -> nTRST (active-low reset)
#   GPIO 13 -> TCK   (clock)
#   GPIO 19 -> TMS   (mode select)
#   GPIO 6  -> TDI   (data in - Pi to device)
#   GPIO 26 -> TDO   (data out - device to Pi)
#
# Usage:
#   openocd -f ./sysfsgpio-smartap.cfg -c "transport select jtag" \
#           -c "bindto 0.0.0.0" -f ./cc3200-complete.cfg
#
# Part of the Smartap Project
# https://github.com/muurk/smartap
#
# =============================================================================
#

adapter driver sysfsgpio

# JTAG lines: tck tms tdi tdo
sysfsgpio jtag_nums 13 19 6 26

# Optional TRST
sysfsgpio trst_num 5

# Set a reasonable speed
adapter speed 100

# Reset config
reset_config trst_only
